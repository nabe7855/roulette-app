(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72906,e=>{"use strict";var s=e.i(43476),t=e.i(71645);let l=Array.from({length:25},(e,s)=>({id:s+1,text:`これはサンプル質問${s+1}です。フランスの首都はどこですか？答えはパリです。これはテキストの折り返しをテストするための長い質問です。`,createdAt:new Date(Date.now()-1e3*s*86400).toISOString().split("T")[0],type:s%2==0?"roulette":"slot"})),a=({className:e="w-5 h-5"})=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"})}),r=({className:e="w-5 h-5"})=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),n=({className:e="w-5 h-5"})=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),o=({className:e="w-5 h-5"})=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),i=({className:e="w-5 h-5"})=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),d=({questionCount:e,maxQuestions:t,onLogout:l})=>{let a=e>.9*t;return(0,s.jsx)("header",{className:"bg-white shadow-md sticky top-0 z-10",children:(0,s.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center py-4 gap-4 sm:gap-0",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-800 text-center sm:text-left",children:"質問ダッシュボード"}),(0,s.jsxs)("div",{className:"w-full sm:w-auto flex justify-between sm:justify-end items-center space-x-4",children:[(0,s.jsx)("div",{className:"text-sm font-medium",children:(0,s.jsxs)("span",{className:a?"text-red-500":"text-gray-600",children:["合計: ",e,"/",t]})}),(0,s.jsxs)("button",{onClick:l,className:"flex items-center space-x-2 text-gray-600 hover:text-blue-600 transition-colors",children:[(0,s.jsx)(o,{}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"ログアウト"})]})]})]})})})},c=({label:e,isActive:t,onClick:l})=>(0,s.jsx)("button",{onClick:l,className:`px-4 py-2 text-sm font-medium rounded-t-lg transition-colors duration-200 ease-in-out focus:outline-none ${t?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:e}),x=({searchTerm:e,onSearchTermChange:t,onAddQuestion:l})=>(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[(0,s.jsxs)("div",{className:"relative w-full sm:w-auto flex-grow sm:max-w-xs",children:[(0,s.jsx)("input",{type:"text",placeholder:"質問を検索...",value:e,onChange:e=>t(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,s.jsx)(i,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]}),(0,s.jsxs)("button",{onClick:l,className:"w-full sm:w-auto flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-transform transform hover:scale-105 shadow-md",children:[(0,s.jsx)(n,{}),(0,s.jsx)("span",{children:"質問を追加"})]})]}),m=({questions:e,onEdit:t,onDelete:l})=>0===e.length?(0,s.jsx)("div",{className:"text-center py-10 text-gray-500",children:"質問が見つかりません。"}):(0,s.jsxs)("div",{className:"flow-root",children:[(0,s.jsx)("div",{className:"space-y-4 md:hidden",children:e.map(e=>(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,s.jsx)("p",{className:"text-gray-800 text-sm break-words mb-3",children:e.text}),(0,s.jsxs)("div",{className:"flex justify-between items-center border-t border-gray-200 pt-3 mt-3",children:[(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:["作成日: ",e.createdAt]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("button",{onClick:()=>t(e),className:"text-blue-600 p-2 rounded-full hover:bg-blue-100 transition-colors",children:(0,s.jsx)(a,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>l(e.id),className:"text-red-600 p-2 rounded-full hover:bg-red-100 transition-colors",children:(0,s.jsx)(r,{className:"w-5 h-5"})})]})]})]},e.id))}),(0,s.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"質問テキスト"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"作成日"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-normal text-sm text-gray-700 max-w-xl break-words",children:e.text}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.createdAt}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)("button",{onClick:()=>t(e),className:"text-blue-600 hover:text-blue-900 p-2 rounded-full hover:bg-blue-100 transition-colors",children:(0,s.jsx)(a,{})}),(0,s.jsx)("button",{onClick:()=>l(e.id),className:"text-red-600 hover:text-red-900 p-2 rounded-full hover:bg-red-100 transition-colors",children:(0,s.jsx)(r,{})})]})})]},e.id))})]})})]}),u=({currentPage:e,totalPages:t,onPageChange:l})=>(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-6 gap-4 sm:gap-0",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-700",children:["ページ ",(0,s.jsx)("span",{className:"font-semibold",children:e})," / ",(0,s.jsx)("span",{className:"font-semibold",children:t})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>{l(Math.max(1,e-1))},disabled:1===e,className:"px-4 py-2 text-sm text-gray-700 bg-white border rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"前へ"}),(0,s.jsx)("button",{onClick:()=>{l(Math.min(t,e+1))},disabled:e===t,className:"px-4 py-2 text-sm text-gray-700 bg-white border rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"次へ"})]})]}),h=({isOpen:e,onClose:t,children:l,title:a})=>e?(0,s.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg animate-fade-in-up",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-4 border-b",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:a}),(0,s.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsx)("div",{className:"p-6",children:l})]}),(0,s.jsx)("style",{children:`
          @keyframes fade-in-up {
            0% {
              opacity: 0;
              transform: translateY(20px);
            }
            100% {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-in-up {
            animation: fade-in-up 0.3s ease-out forwards;
          }
      `})]}):null,p=({isOpen:e,onClose:l,onSave:a,question:r,maxQuestions:n,currentQuestionCount:o,activeTab:i})=>{let[d,c]=(0,t.useState)(""),[x,m]=(0,t.useState)(i),[u,p]=(0,t.useState)("");(0,t.useEffect)(()=>{c(r?.text||""),m(r?.type||i),p("")},[r,e,i]);let g=!!r,b=!g&&o>=n;return(0,s.jsx)(h,{isOpen:e,onClose:l,title:g?"質問を編集":"新しい質問を追加",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"種別"}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"radio",name:"questionType",value:"roulette",checked:"roulette"===x,onChange:()=>m("roulette"),className:"form-radio h-4 w-4 text-blue-600"}),(0,s.jsx)("span",{className:"ml-2 text-gray-700",children:"ルーレット"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"radio",name:"questionType",value:"slot",checked:"slot"===x,onChange:()=>m("slot"),className:"form-radio h-4 w-4 text-blue-600"}),(0,s.jsx)("span",{className:"ml-2 text-gray-700",children:"スロット"})]})]})]}),(0,s.jsx)("textarea",{value:d,onChange:e=>c(e.target.value),rows:5,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"質問テキストを入力...",maxLength:500,disabled:b}),(0,s.jsxs)("div",{className:"text-right text-sm text-gray-500",children:[d.length," / 500"]}),u&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:u}),(0,s.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,s.jsx)("button",{onClick:l,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors",children:"キャンセル"}),(0,s.jsx)("button",{onClick:()=>{0===d.trim().length?p("質問テキストは空にできません。"):d.length>500?p("質問テキストは500文字を超えることはできません。"):b?p(`新しい質問は追加できません。上限の${n}件に達しました。`):(a(d,x),l())},disabled:b,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed transition-colors",children:"質問を保存"})]})]})})},g=({isOpen:e,onClose:t,onConfirm:l,title:a,message:r})=>e?(0,s.jsxs)(h,{isOpen:e,onClose:t,title:a,children:[(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:r}),(0,s.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,s.jsx)("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors",children:"キャンセル"}),(0,s.jsx)("button",{onClick:l,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"削除を実行"})]})]}):null,b=({onLogout:e})=>{let[a,r]=(0,t.useState)(l),[n,o]=(0,t.useState)(""),[i,h]=(0,t.useState)(1),[b,j]=(0,t.useState)("roulette"),[f,w]=(0,t.useState)(null),[y,v]=(0,t.useState)(null),[N,k]=(0,t.useState)(!1),C=(0,t.useMemo)(()=>a.filter(e=>e.type===b).filter(e=>e.text.toLowerCase().includes(n.toLowerCase())),[a,n,b]),L=(0,t.useMemo)(()=>{let e=(i-1)*10;return C.slice(e,e+10)},[C,i]),S=Math.ceil(C.length/10),M=e=>{j(e),h(1)},T=(0,t.useCallback)(()=>{w(null),k(!0)},[]),A=(0,t.useCallback)(e=>{w(e),k(!0)},[]),O=(0,t.useCallback)(e=>{v(e)},[]),B=(0,t.useCallback)(()=>{null!==y&&(r(e=>e.filter(e=>e.id!==y)),v(null))},[y]),W=(0,t.useCallback)((e,s)=>{if(f)r(t=>t.map(t=>t.id===f.id?{...t,text:e,type:s}:t));else{if(a.length>=200)return void alert(`200件より多くの質問は追加できません。`);let t={id:Math.max(0,...a.map(e=>e.id))+1,text:e,createdAt:new Date().toISOString().split("T")[0],type:s};r(e=>[t,...e])}},[f,a]);return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-100 font-sans",children:[(0,s.jsx)(d,{questionCount:a.length,maxQuestions:200,onLogout:e}),(0,s.jsx)("main",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:(0,s.jsxs)("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-lg",children:[(0,s.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,s.jsxs)("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[(0,s.jsx)(c,{label:"ルーレット",isActive:"roulette"===b,onClick:()=>M("roulette")}),(0,s.jsx)(c,{label:"スロット",isActive:"slot"===b,onClick:()=>M("slot")})]})}),(0,s.jsx)(x,{searchTerm:n,onSearchTermChange:o,onAddQuestion:T}),(0,s.jsx)(m,{questions:L,onEdit:A,onDelete:O}),S>1&&(0,s.jsx)(u,{currentPage:i,totalPages:S,onPageChange:h})]})}),(0,s.jsx)(p,{isOpen:N,onClose:()=>k(!1),onSave:W,question:f,maxQuestions:200,currentQuestionCount:a.length,activeTab:b}),(0,s.jsx)(g,{isOpen:null!==y,onClose:()=>v(null),onConfirm:B,title:"削除の確認",message:"この質問を削除してもよろしいですか？この操作は元に戻せません。"})]})},j=({onLogin:e,error:l})=>{let[a,r]=(0,t.useState)("admin"),[n,o]=(0,t.useState)("");return(0,s.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"w-full max-w-md bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-2",children:"管理者ログイン"}),(0,s.jsx)("p",{className:"text-center text-gray-500 mb-8",children:"質問管理ダッシュボード"}),(0,s.jsxs)("form",{onSubmit:s=>{s.preventDefault(),e(n)},children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username",children:"ユーザー名"}),(0,s.jsx)("input",{id:"username",type:"text",value:a,onChange:e=>r(e.target.value),className:"shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"admin",readOnly:!0})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"パスワード"}),(0,s.jsx)("input",{id:"password",type:"password",value:n,onChange:e=>o(e.target.value),className:"shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"password"})]}),l&&(0,s.jsx)("p",{className:"text-red-500 text-xs italic mb-4",children:l}),(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition-transform transform hover:scale-105",children:"サインイン"})})]})]})})},f=()=>{let[e,l]=(0,t.useState)(!1),[a,r]=(0,t.useState)(""),n=(0,t.useCallback)(e=>{"password"===e?(l(!0),r("")):r("パスワードが無効です。ヒント：「password」です")},[]),o=(0,t.useCallback)(()=>{l(!1)},[]);return(0,s.jsx)(s.Fragment,{children:e?(0,s.jsx)(b,{onLogout:o}):(0,s.jsx)(j,{onLogin:n,error:a})})};function w(){return(0,s.jsx)(f,{})}e.s(["default",()=>w],72906)}]);