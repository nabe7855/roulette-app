module.exports=[10179,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=Array.from({length:25},(a,b)=>({id:b+1,text:`これはサンプル質問${b+1}です。フランスの首都はどこですか？答えはパリです。これはテキストの折り返しをテストするための長い質問です。`,createdAt:new Date(Date.now()-1e3*b*86400).toISOString().split("T")[0],type:b%2==0?"roulette":"slot"})),e=({className:a="w-5 h-5"})=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"})}),f=({className:a="w-5 h-5"})=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),g=({className:a="w-5 h-5"})=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),h=({className:a="w-5 h-5"})=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),i=({className:a="w-5 h-5"})=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),j=({questionCount:a,maxQuestions:c,onLogout:d})=>{let e=a>.9*c;return(0,b.jsx)("header",{className:"bg-white shadow-md sticky top-0 z-10",children:(0,b.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center py-4 gap-4 sm:gap-0",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-800 text-center sm:text-left",children:"質問ダッシュボード"}),(0,b.jsxs)("div",{className:"w-full sm:w-auto flex justify-between sm:justify-end items-center space-x-4",children:[(0,b.jsx)("div",{className:"text-sm font-medium",children:(0,b.jsxs)("span",{className:e?"text-red-500":"text-gray-600",children:["合計: ",a,"/",c]})}),(0,b.jsxs)("button",{onClick:d,className:"flex items-center space-x-2 text-gray-600 hover:text-blue-600 transition-colors",children:[(0,b.jsx)(h,{}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"ログアウト"})]})]})]})})})},k=({label:a,isActive:c,onClick:d})=>(0,b.jsx)("button",{onClick:d,className:`px-4 py-2 text-sm font-medium rounded-t-lg transition-colors duration-200 ease-in-out focus:outline-none ${c?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:a}),l=({searchTerm:a,onSearchTermChange:c,onAddQuestion:d})=>(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[(0,b.jsxs)("div",{className:"relative w-full sm:w-auto flex-grow sm:max-w-xs",children:[(0,b.jsx)("input",{type:"text",placeholder:"質問を検索...",value:a,onChange:a=>c(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,b.jsx)(i,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]}),(0,b.jsxs)("button",{onClick:d,className:"w-full sm:w-auto flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-transform transform hover:scale-105 shadow-md",children:[(0,b.jsx)(g,{}),(0,b.jsx)("span",{children:"質問を追加"})]})]}),m=({questions:a,onEdit:c,onDelete:d})=>0===a.length?(0,b.jsx)("div",{className:"text-center py-10 text-gray-500",children:"質問が見つかりません。"}):(0,b.jsxs)("div",{className:"flow-root",children:[(0,b.jsx)("div",{className:"space-y-4 md:hidden",children:a.map(a=>(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,b.jsx)("p",{className:"text-gray-800 text-sm break-words mb-3",children:a.text}),(0,b.jsxs)("div",{className:"flex justify-between items-center border-t border-gray-200 pt-3 mt-3",children:[(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:["作成日: ",a.createdAt]}),(0,b.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,b.jsx)("button",{onClick:()=>c(a),className:"text-blue-600 p-2 rounded-full hover:bg-blue-100 transition-colors",children:(0,b.jsx)(e,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>d(a.id),className:"text-red-600 p-2 rounded-full hover:bg-red-100 transition-colors",children:(0,b.jsx)(f,{className:"w-5 h-5"})})]})]})]},a.id))}),(0,b.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"質問テキスト"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"作成日"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-normal text-sm text-gray-700 max-w-xl break-words",children:a.text}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.createdAt}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,b.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,b.jsx)("button",{onClick:()=>c(a),className:"text-blue-600 hover:text-blue-900 p-2 rounded-full hover:bg-blue-100 transition-colors",children:(0,b.jsx)(e,{})}),(0,b.jsx)("button",{onClick:()=>d(a.id),className:"text-red-600 hover:text-red-900 p-2 rounded-full hover:bg-red-100 transition-colors",children:(0,b.jsx)(f,{})})]})})]},a.id))})]})})]}),n=({currentPage:a,totalPages:c,onPageChange:d})=>(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-6 gap-4 sm:gap-0",children:[(0,b.jsxs)("span",{className:"text-sm text-gray-700",children:["ページ ",(0,b.jsx)("span",{className:"font-semibold",children:a})," / ",(0,b.jsx)("span",{className:"font-semibold",children:c})]}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("button",{onClick:()=>{d(Math.max(1,a-1))},disabled:1===a,className:"px-4 py-2 text-sm text-gray-700 bg-white border rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"前へ"}),(0,b.jsx)("button",{onClick:()=>{d(Math.min(c,a+1))},disabled:a===c,className:"px-4 py-2 text-sm text-gray-700 bg-white border rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"次へ"})]})]}),o=({isOpen:a,onClose:c,children:d,title:e})=>a?(0,b.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg animate-fade-in-up",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center p-4 border-b",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:e}),(0,b.jsx)("button",{onClick:c,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsx)("div",{className:"p-6",children:d})]}),(0,b.jsx)("style",{children:`
          @keyframes fade-in-up {
            0% {
              opacity: 0;
              transform: translateY(20px);
            }
            100% {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-in-up {
            animation: fade-in-up 0.3s ease-out forwards;
          }
      `})]}):null,p=({isOpen:a,onClose:d,onSave:e,question:f,maxQuestions:g,currentQuestionCount:h,activeTab:i})=>{let[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(i),[n,p]=(0,c.useState)("");(0,c.useEffect)(()=>{k(f?.text||""),m(f?.type||i),p("")},[f,a,i]);let q=!!f,r=!q&&h>=g;return(0,b.jsx)(o,{isOpen:a,onClose:d,title:q?"質問を編集":"新しい質問を追加",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"種別"}),(0,b.jsxs)("div",{className:"flex space-x-4",children:[(0,b.jsxs)("label",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"radio",name:"questionType",value:"roulette",checked:"roulette"===l,onChange:()=>m("roulette"),className:"form-radio h-4 w-4 text-blue-600"}),(0,b.jsx)("span",{className:"ml-2 text-gray-700",children:"ルーレット"})]}),(0,b.jsxs)("label",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"radio",name:"questionType",value:"slot",checked:"slot"===l,onChange:()=>m("slot"),className:"form-radio h-4 w-4 text-blue-600"}),(0,b.jsx)("span",{className:"ml-2 text-gray-700",children:"スロット"})]})]})]}),(0,b.jsx)("textarea",{value:j,onChange:a=>k(a.target.value),rows:5,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"質問テキストを入力...",maxLength:500,disabled:r}),(0,b.jsxs)("div",{className:"text-right text-sm text-gray-500",children:[j.length," / 500"]}),n&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:n}),(0,b.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,b.jsx)("button",{onClick:d,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors",children:"キャンセル"}),(0,b.jsx)("button",{onClick:()=>{0===j.trim().length?p("質問テキストは空にできません。"):j.length>500?p("質問テキストは500文字を超えることはできません。"):r?p(`新しい質問は追加できません。上限の${g}件に達しました。`):(e(j,l),d())},disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed transition-colors",children:"質問を保存"})]})]})})},q=({isOpen:a,onClose:c,onConfirm:d,title:e,message:f})=>a?(0,b.jsxs)(o,{isOpen:a,onClose:c,title:e,children:[(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:f}),(0,b.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,b.jsx)("button",{onClick:c,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors",children:"キャンセル"}),(0,b.jsx)("button",{onClick:d,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"削除を実行"})]})]}):null,r=({onLogout:a})=>{let[e,f]=(0,c.useState)(d),[g,h]=(0,c.useState)(""),[i,o]=(0,c.useState)(1),[r,s]=(0,c.useState)("roulette"),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(!1),z=(0,c.useMemo)(()=>e.filter(a=>a.type===r).filter(a=>a.text.toLowerCase().includes(g.toLowerCase())),[e,g,r]),A=(0,c.useMemo)(()=>{let a=(i-1)*10;return z.slice(a,a+10)},[z,i]),B=Math.ceil(z.length/10),C=a=>{s(a),o(1)},D=(0,c.useCallback)(()=>{u(null),y(!0)},[]),E=(0,c.useCallback)(a=>{u(a),y(!0)},[]),F=(0,c.useCallback)(a=>{w(a)},[]),G=(0,c.useCallback)(()=>{null!==v&&(f(a=>a.filter(a=>a.id!==v)),w(null))},[v]),H=(0,c.useCallback)((a,b)=>{if(t)f(c=>c.map(c=>c.id===t.id?{...c,text:a,type:b}:c));else{if(e.length>=200)return void alert(`200件より多くの質問は追加できません。`);let c={id:Math.max(0,...e.map(a=>a.id))+1,text:a,createdAt:new Date().toISOString().split("T")[0],type:b};f(a=>[c,...a])}},[t,e]);return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-100 font-sans",children:[(0,b.jsx)(j,{questionCount:e.length,maxQuestions:200,onLogout:a}),(0,b.jsx)("main",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:(0,b.jsxs)("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-lg",children:[(0,b.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,b.jsxs)("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[(0,b.jsx)(k,{label:"ルーレット",isActive:"roulette"===r,onClick:()=>C("roulette")}),(0,b.jsx)(k,{label:"スロット",isActive:"slot"===r,onClick:()=>C("slot")})]})}),(0,b.jsx)(l,{searchTerm:g,onSearchTermChange:h,onAddQuestion:D}),(0,b.jsx)(m,{questions:A,onEdit:E,onDelete:F}),B>1&&(0,b.jsx)(n,{currentPage:i,totalPages:B,onPageChange:o})]})}),(0,b.jsx)(p,{isOpen:x,onClose:()=>y(!1),onSave:H,question:t,maxQuestions:200,currentQuestionCount:e.length,activeTab:r}),(0,b.jsx)(q,{isOpen:null!==v,onClose:()=>w(null),onConfirm:G,title:"削除の確認",message:"この質問を削除してもよろしいですか？この操作は元に戻せません。"})]})},s=({onLogin:a,error:d})=>{let[e,f]=(0,c.useState)("admin"),[g,h]=(0,c.useState)("");return(0,b.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"w-full max-w-md bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-2",children:"管理者ログイン"}),(0,b.jsx)("p",{className:"text-center text-gray-500 mb-8",children:"質問管理ダッシュボード"}),(0,b.jsxs)("form",{onSubmit:b=>{b.preventDefault(),a(g)},children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username",children:"ユーザー名"}),(0,b.jsx)("input",{id:"username",type:"text",value:e,onChange:a=>f(a.target.value),className:"shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"admin",readOnly:!0})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"パスワード"}),(0,b.jsx)("input",{id:"password",type:"password",value:g,onChange:a=>h(a.target.value),className:"shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"password"})]}),d&&(0,b.jsx)("p",{className:"text-red-500 text-xs italic mb-4",children:d}),(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsx)("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition-transform transform hover:scale-105",children:"サインイン"})})]})]})})},t=()=>{let[a,d]=(0,c.useState)(!1),[e,f]=(0,c.useState)(""),g=(0,c.useCallback)(a=>{"password"===a?(d(!0),f("")):f("パスワードが無効です。ヒント：「password」です")},[]),h=(0,c.useCallback)(()=>{d(!1)},[]);return(0,b.jsx)(b.Fragment,{children:a?(0,b.jsx)(r,{onLogout:h}):(0,b.jsx)(s,{onLogin:g,error:e})})};function u(){return(0,b.jsx)(t,{})}a.s(["default",()=>u],10179)}];

//# sourceMappingURL=src_app_admin_page_tsx_645532da._.js.map